<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'">
    <link href="style.css" rel="stylesheet">
    <title>Echo Arena Overlay</title>
  </head>
  <body>
    <nav>
      <ul>
        <li>Dashboard</li>
        <li>Scenes configuration</li>
      </ul>
    </nav>
    <div class="block">
      <label for="echo-arena-url">Echo Arena url</label><input type="text" id="echo-arena-url" /><input type="text" id="echo-arena-port" />
      <label for="echo-arena-autoconnect"><input type="checkbox" id="echo-arena-autoconnect" /> Auto-connect</label>
      <button id="echo-arena-connect">Connect</button>
    </div>
    <div class="block">
      <label for="obs-websocket-url">OBS websocket url</label><input type="text" id="obs-websocket-url" /><input type="text" id="obs-websocket-port" />
      <label for="obs-websocket-password">Password</label><input type="password" id="obs-websocket-password" />
      <label for="obs-websocket-autoconnect"><input type="checkbox" id="obs-websocket-autoconnect" /> Auto-connect</label>
      <button id="obs-websocket-connect">Connect</button>
    </div>
    <div class="block">
      <label for="overlay-port">Overlays port</label><input type="text" id="overlay-port" value="4545" />
      <label for="overlay-autolaunch"><input type="checkbox" id="overlay-autolaunch" /> Auto-launch</label>
      <button id="launch-overlay-server">Launch overlay server</button>
    </div>
    <div class="block">
      <h2>VRML Mode</h2>
      <label for="vrmlMatch"><input type="checkbox" id="vrmlMatch"/> VRML Next Match</label>
      <label for="teams">Team</label><select id="teams"></select>
      <div id="matchData" class="hidden"></div>
    </div>
    <div class="block" id="autostream-wrapper">
      <div>
        <h2>Stream</h2>
        <label for="main-scene">Main scene</label><select id="main-scene" class="scene-select" type="text"></select>
        <label for="wait-scene">Wait scene</label><select id="wait-scene" class="scene-select" type="text"></select>
        <label for="autostream"><input id="autostream" type="checkbox"> Autostream</label>
        <label for="launch-time">Launch time</label><input id="launch-time" type="time"/>
        <h3>Start stream</h3>
        <table>
          <thead>
            <tr>
              <td>Scene</td>
              <td>Duration</td>
              <td><button>+</button></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><select id="start-scene[0]" class="scene-select" type="text"></td>
              <td><input id="start-duration[0]" type="number" min="1"/>s</td>
              <td><button>-</button></td>
            </tr>
          </tbody>
        </table>
        <h3>Game stream</h3>
        <table>
          <thead>
            <tr>
              <td>Event</td>
              <td>Delay</td>
              <td>Scene</td>
              <td>Duration</td>
              <td><button>+</button></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><select id="event[0]" class="echo-arena-event-select"></select></td>
              <td><input id="delay[0]" type="number"/ min="1">s</td>
              <td><select id="scene[0]" class="scene-select" type="text"></td>
              <td><input id="duration[0]" type="number" min="1"/>s</td>
              <td><button>-</button></td>
              <td><label for="event"><input type="checkbox" id="event"/> Enable this event</label></td>
            </tr>
          </tbody>
        </table>
        <h3>End stream</h3>
         
        <table>
          <thead>
            <tr>
              <td>Scene</td>
              <td>Duration</td>
              <td><button>+</button></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><label for="delay-after-end-game">Delay after end game</label></td>
              <td><input id="delay-after-end-game" type="number"/ min="1">s</td>
              <td><button>-</button></td>
            </tr>
            <tr>
              <td><select id="end-scene[0]" class="scene-select" type="text"></td>
              <td><input id="end-duration[0]" type="number" min="1"/>s</td>
              <td><button>-</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <pre id="logs"></pre>
  </body>
</html>
